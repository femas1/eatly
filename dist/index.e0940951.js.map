{"mappings":"AAMA,MAAMA,EAAkBC,SAASC,cAAc,oCAQzCC,GAPgBF,SAASG,eAAe,kBAClBH,SAASC,cAAc,6DAC5BD,SAASG,eAAe,mBAC3BH,SAASC,cAAc,+CAClBD,SAASC,cAAc,sDAC5BD,SAASC,cAAc,yDACpBD,SAASC,cAAc,6DAC5BD,SAASG,eAAe,iBACpCC,EAAYJ,SAASG,eAAe,gBACpCE,EAAUL,SAASC,cAAc,gCACjCK,EAAgBN,SAASC,cAAc,8CAEvCM,GADwBP,SAASC,cAAc,mBAC7BD,SAASC,cAAc,kDAa/C,IAAIO,EAAS,GAEbH,EAAQI,iBAAiB,SAAUC,IAC3B,IAAIC,EAAWD,EAAEE,OAAOC,GACpBC,EAAcJ,EAAEE,OAAOG,UAC3BP,EAAOQ,KAAK,CACRH,GAAIF,EACJM,MAAOH,GACX,IAQR,IAAII,EAAe,GAEnBZ,EAAcG,iBAAiB,SAAUC,IACrC,IAAIS,EAAoBX,EAAOY,OAAM,GACrCF,EAAaF,KAAKG,GAElB,IAAIE,EAAyBC,KAAKC,UAAUL,GAC5CM,aAAaC,QAAQ,eAAgBJ,GACrCK,QAAQC,IAAI,iBAAiBN,IAAwB,IAWzDd,EAAgBE,iBAAiB,SAAS,KAEtC,IAAImB,EAAkCN,KAAKO,MAAML,aAAaM,QAAQ,iBACtEJ,QAAQC,IAAIC,GACZvB,EAAQ0B,UAAY,GAEpBH,EAAgCI,SAAQC,IACjC5B,EAAQ6B,mBAAmB,YAAa,0EAM/CD,EAAA,GAAApB,qKAQsBoB,EAAA,GAAAhB,qCAEpB,GACF,I,46EAMEkB,eAAgBtB,GAClB,MAAMuB,QAAYC,MAAM,uCAACxB,+DACNuB,EAAIE,M,wDAsL3BH,eAAAI,GAEA,IACQ,MAAAH,QAAaC,MAAS,6GAAAE,KAC1BC,QAAAJ,EAAAE,OACA,IAAAF,EAAAK,GAAA,UAAAC,MAAA,GAAYF,EAAAG,WAChBH,EAAAR,SAAAY,IAEAvC,EAA6B6B,mBAAA,kFAEaU,EAAA/B,wDAClB+B,EAAAC,qGACOD,EAAA3B,iCAC3B,G","sources":["src/index.js"],"sourcesContent":["'use strict';\r\n\r\n// require('dotenv').config();\r\n\r\n// const apiKey = process.env.API_KEY;\r\n\r\nconst recipeContainer = document.querySelector('.container__content__mainContent');\r\nconst recipePicture = document.getElementById('recipe-picture');\r\nconst ingredientContainer = document.querySelector('.container__content__mainContent__ingredients__list__item');\r\nconst previewPicture = document.getElementById('preview-picture');\r\nconst recipeTitle = document.querySelector('.container__content__sidebar__recipe__title');\r\nconst recipeDirections = document.querySelector('.container__content__mainContent__directions__text');\r\nconst cookingTime = document.querySelector('.container__content__mainContent__dishInfo__time span');\r\nconst recipeServings = document.querySelector('.container__content__mainContent__dishInfo__servings span');\r\nconst searchBtn = document.getElementById('submitButton');\r\nconst searchBar = document.getElementById('searchRecipe');\r\nconst sidebar = document.querySelector('.container__content__sidebar');\r\nconst saveRecipeBtn = document.querySelector('.container__header__buttons__addRecipe.btn');\r\nconst saveRecipeBtnInRecipe = document.querySelector('.fa-floppy-disk');\r\nconst savedRecipesBtn = document.querySelector('.container__header__buttons__savedRecipes.btn');\r\n\r\n\r\n// SAVE A RECIPE\r\n\r\n// 1. User clicks on save \r\n// 2. define current recipe (when clicking on recipe in sidebar --> save id somewhere in html)\r\n// 3. get the id from the html (from point 2)\r\n// 4. Get the current recipe id (getRecipeId --> calls api)\r\n// 5. and save it to localStorage\r\n\r\n// 1. Get ID from clicked recipe and push it to an Array 'tempId', where it is temporary stored\r\n\r\nlet tempId = [];\r\n\r\nsidebar.addEventListener('click', (e) => {\r\n        let recipeId = e.target.id;\r\n        let recipeTitle = e.target.innerText;\r\n        tempId.push({\r\n            id: recipeId,\r\n            title: recipeTitle \r\n        })\r\n        // console.log(tempId)\r\n    });\r\n\r\n\r\n\r\n// 2. When user clicks on save button, get the id from tempId array and push it to an array in localStorage (to avoid getting the wrong index, get alway the -1 index - last clicked recipe)\r\n\r\nlet savedRecipes = [];\r\n\r\nsaveRecipeBtn.addEventListener('click', (e)=> {\r\n    let lastClickedRecipe = tempId.slice(-1);\r\n    savedRecipes.push(lastClickedRecipe);\r\n    // STORE RECIPES IN LOCAL STORAGE \r\n    let savedRecipesSerialized = JSON.stringify(savedRecipes);\r\n    localStorage.setItem('savedRecipes', savedRecipesSerialized);\r\n    console.log(`Your recipes: ${savedRecipesSerialized}`);\r\n})\r\n\r\n// GETTING MY RECIPES (STORED RECIPES)\r\n\r\n// 1. User clicks on btn \"my recipes\"\r\n// 2. Get recipe ids from local storage (getItem('keyName')) -> save recipe title too, push it into sidebar, when user click call api based on stored id, display using getrecipebyid function\r\n// 3.\r\n\r\n// PUT RECIPES INTO SIDEBAR FROM LOCALSTORAGE\r\n\r\nsavedRecipesBtn.addEventListener('click', () => {\r\n         // CONVERT STRING FROM LOCALSTORAGE TO ARRAY LIKE STRUCTURE\r\n    let localStorageRecipesDeserialized = JSON.parse(localStorage.getItem('savedRecipes'));\r\n    console.log(localStorageRecipesDeserialized);\r\n    sidebar.innerHTML = \"\";\r\n        // LOOPING OVER ARRAY AND CREATE A LIST OF STORED RECIPES AND PUSH INTO SIDEBAR\r\n    localStorageRecipesDeserialized.forEach(recipeArray => {\r\n           sidebar.insertAdjacentHTML('beforeend', `\r\n                <div class=\"container__content__sidebar__recipe\" id=\"${recipeArray[0].id}\">\r\n                    <img id=\"preview-picture\" src=\"#\" alt=\"recipe-picture\">\r\n                        <h3 class=\"container__content__sidebar__recipe__title\">${recipeArray[0].title}</h3>\r\n                </div>`\r\n            )\r\n    })\r\n\r\n\r\n    \r\n\r\n})\r\n\r\n\r\n// API RANDOM RECIPE CALL \r\n\r\nconst getRecipeId = async function (id) {\r\n    const res = await fetch(`https://api.spoonacular.com/recipes/${id}/information?apiKey=b69e38af682b4e7fa423de0c87c3e848`);\r\n    const data = await res.json();\r\n}\r\n\r\n\r\n\r\nconst getRandRecipe = async function () {\r\n    const res = await fetch(`https://api.spoonacular.com/recipes/random?apiKey=b69e38af682b4e7fa423de0c87c3e848`);\r\n    const data = await res.json();\r\n\r\n    const title = data.recipes[0].title;\r\n    const image = data.recipes[0].image;\r\n    const readyIn = data.recipes[0].readyInMinutes;\r\n    const servings = data.recipes[0].servings\r\n    const instructions = data.recipes[0].instructions;\r\n    const extIngredients = data.recipes[0].extendedIngredients;\r\n\r\n    recipeTitle.innerText = title;\r\n    previewPicture.src = image;\r\n\r\n    // recipeContainer.innerHTML = \"\"\r\n\r\n    recipeContainer.insertAdjacentHTML('afterbegin', `\r\n    <!-- MAIN CONTENT -->        \r\n        <div class=\"container__content__mainContent__dishPicture\">\r\n            <img id= \"recipe-picture\" src=\"${image}\" alt=\"recipe-picture\">\r\n        </div>\r\n        <!-- DISH INFORMATION  -->\r\n        <div class=\"container__content__mainContent__dishInfo\">\r\n            <div class=\"container__content__mainContent__dishInfo__time\">\r\n                <p>\r\n                    <i class=\"fa-regular fa-clock\"></i>\r\n                    <span>${readyIn}</span>minutes\r\n                </p>\r\n            </div>\r\n            <div class=\"container__content__mainContent__dishInfo__servings\">\r\n                <p>\r\n                    <i class=\"fa-solid fa-users\"></i> \r\n                    <span>${servings}</span>servings</p>\r\n                    <i class=\"fa-solid fa-plus\"></i>\r\n                    <i class=\"fa-solid fa-minus\"></i>\r\n            </div>\r\n            <div class=\"container__content__mainContent__dishInfo__saveBtn\">\r\n                <i class=\"fa-regular fa-floppy-disk\"></i>\r\n            </div>\r\n        </div>\r\n        <!-- DISH INFORMATION END -->\r\n        <div class=\"container__content__mainContent__title\">\r\n            <h1>${title}</h1>\r\n        </div>\r\n        \r\n        <!-- DIRECTIONS -->\r\n        <div class=\"container__content__mainContent__directions\">\r\n            <h1 class=\"container__content__mainContent__directions__heading\">Directions</h1>\r\n            <p class=\"container__content__mainContent__directions__text\">${instructions}</p>\r\n        </div>\r\n        <!-- DIRECTIONS END -->\r\n    `)\r\n\r\n// FIX INGREDIENT FUNCTION HERE \r\n\r\n// extIngredients.forEach(extIngredient => {\r\n//         extIngredient.forEach(ingredient => {\r\n//             ingredientContainer.insertAdjacentHTML('beforeend', `\r\n//            <p>${ingredient.amount} ${ingredient.unit} ${ingredient.originalName}</p>\r\n// `)\r\n//         })\r\n//     });\r\n};\r\n\r\n// getRandRecipe();\r\n\r\n// SCENARIO: User starts the app \r\n\r\n// 1. Page loads\r\n// 2. Show all recipes in the sidebar\r\n    // 2.1. search recipe based on random ingredient (random ingredient from array)\r\n    // 2.2. push first 10 results into the preview tabs in the sidebar (slice array, add link into search)\r\n// 3. User clicks on one of the recipe -> show recipe in main content area\r\n\r\n// 3. Open / show the first recipe of the list \r\n\r\n\r\nconst searchRecipes = async function (ingredient) {\r\n    try {\r\n    const res = await fetch(`https://api.spoonacular.com/recipes/findByIngredients?apiKey=b69e38af682b4e7fa423de0c87c3e848&ingredients=${ingredient}`);\r\n    const data = await res.json();\r\n    \r\n\r\n    if(!res.ok) throw new Error(`${data.message}`);\r\n\r\n    data.forEach(recipe => {\r\n\r\n        sidebar.insertAdjacentHTML('beforeend', `\r\n            <div class=\"container__content__sidebar__recipe\" id=\"${recipe.id}\">\r\n                <img id=\"preview-picture\" src=\"${recipe.image}\" alt=\"burrito\">\r\n                    <h3 class=\"container__content__sidebar__recipe__title\">${recipe.title}</h3>\r\n            </div>`\r\n        )\r\n    })\r\n    } catch(err) {\r\n        alert(err);\r\n    }\r\n}\r\n\r\n// searchRecipes(\"egg\")\r\n\r\n\r\n// window.addEventListener('DOMContentLoaded', getRandRecipe(), searchRecipes())\r\n\r\n// searchRecipes();\r\n\r\n// SEARCH RECIPE BY ID\r\n\r\n// // // 1. clicked on recipe\r\n// // // 2. get the recipe title(outer text?)\r\n// // // 3. search the title (exact string) using complexSearch\r\n// // // 4. insert recipe in main area (like in getRandRecipe)\r\n\r\nconst getRecipeById = async function (id) {\r\n    const res = await fetch(`https://api.spoonacular.com/recipes/${id}/information?apiKey=b69e38af682b4e7fa423de0c87c3e848`);\r\n    const data = await res.json();\r\n\r\n    const title = data.title;\r\n    const image = data.image;\r\n    const readyIn = data.readyInMinutes;\r\n    const servings = data.servings\r\n    const instructions = data.instructions;\r\n    const extIngredients = data.extendedIngredients;\r\n\r\n    recipeContainer.innerHTML = \"\";\r\n\r\n        //    INSERT INGREDIENTS  \r\n\r\n        let ingredientList = [];\r\n\r\n        extIngredients.forEach(ingredient => {\r\n            ingredientList.push(`${ingredient.amount} ${ingredient.unit} ${ingredient.originalName}`)\r\n         }\r\n        )\r\n\r\n        let allIngredients = [...ingredientList]\r\n\r\n\r\n    recipeContainer.insertAdjacentHTML('afterbegin', `\r\n    <!-- MAIN CONTENT -->        \r\n        <div class=\"container__content__mainContent__dishPicture\">\r\n            <img id= \"recipe-picture\" src=\"${image}\" alt=\"recipe-picture\">\r\n        </div>\r\n        <!-- DISH INFORMATION  -->\r\n        <div class=\"container__content__mainContent__dishInfo\">\r\n            <div class=\"container__content__mainContent__dishInfo__time\">\r\n                <p>\r\n                    <i class=\"fa-regular fa-clock\"></i>\r\n                    <span>${readyIn}</span>minutes\r\n                </p>\r\n            </div>\r\n            <div class=\"container__content__mainContent__dishInfo__servings\">\r\n                <p>\r\n                    <i class=\"fa-solid fa-users\"></i> \r\n                    <span>${servings}</span>servings</p>\r\n                    <i class=\"fa-solid fa-plus\"></i>\r\n                    <i class=\"fa-solid fa-minus\"></i>\r\n            </div>\r\n            <div class=\"container__content__mainContent__dishInfo__saveBtn\">\r\n                <i class=\"fa-regular fa-floppy-disk\"></i>\r\n            </div>\r\n        </div>\r\n        <!-- DISH INFORMATION END -->\r\n        <div class=\"container__content__mainContent__title\">\r\n            <h1>${title}</h1>\r\n        </div>\r\n        <!-- INGREDIENTS -->\r\n\r\n            <div class=\"container__content__mainContent__ingredients\">\r\n            <h1 class=\"container__content__mainContent__ingredients__heading\">Ingredients</h1>\r\n            <ul class=\"container__content__mainContent__ingredients__list\">\r\n                <li class=\"container__content__mainContent__ingredients__list__item\">\r\n                        ${allIngredients}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    <!-- INGREDIENTS -->\r\n        <!-- DIRECTIONS -->\r\n        <div class=\"container__content__mainContent__directions\">\r\n            <h1 class=\"container__content__mainContent__directions__heading\">Directions</h1>\r\n            <p class=\"container__content__mainContent__directions__text\">${instructions}</p>\r\n        </div>\r\n        <!-- DIRECTIONS END -->\r\n    `)\r\n}\r\n\r\nsidebar.addEventListener('click', (e) => {\r\n    let recipeId = e.target.id;\r\n    getRecipeById(recipeId);\r\n    getRecipeId(recipeId);\r\n});\r\n\r\n// BASIC SEARCH IN SEARCH BAR\r\n\r\nsearchBtn.addEventListener('click', () => {\r\n    sidebar.innerHTML = \"\";\r\n    let query = searchBar.value;\r\n    searchRecipes(query);\r\n});"],"names":["$35da740d59af89ba$var$recipeContainer","document","querySelector","$35da740d59af89ba$var$searchBtn","getElementById","$35da740d59af89ba$var$searchBar","$35da740d59af89ba$var$sidebar","$35da740d59af89ba$var$saveRecipeBtn","$35da740d59af89ba$var$savedRecipesBtn","$35da740d59af89ba$var$tempId","addEventListener","e","recipeId","target","id","recipeTitle","innerText","push","title","$35da740d59af89ba$var$savedRecipes","lastClickedRecipe","slice","savedRecipesSerialized","JSON","stringify","localStorage","setItem","console","log","localStorageRecipesDeserialized","parse","getItem","innerHTML","forEach","recipeArray","insertAdjacentHTML","async","res","fetch","json","ingredient","data","ok","Error","message","recipe","image"],"version":3,"file":"index.e0940951.js.map"}